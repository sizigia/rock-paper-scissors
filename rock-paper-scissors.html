<!DOCTYPE <html>>
<html>
    <head>
        <title>Rock Paper Scissors</title>
        <script>
            let i = 1;
            let player = 0;
            let computer = 0;
            let playerSelection;
            
            function computerPlay(){
                const options=["rock", "paper", "scissors"];
                return options[Math.floor(Math.random()*options.length)];
            }
            let computerSelection = computerPlay();

            window.confirm("Are you ready to play?");
            playerSelection=window.prompt("pick your weapon!","rock - scissors - paper").toLowerCase();
            game();

            function game() {
                if (i <= 3){
                    playRound();
                    console.log(`Round ${i} - Player: ${player} vs. Computer: ${computer}`);
                    window.confirm("Are you ready to play for the next round?");
                    computerSelection = computerPlay();
                    playerSelection=window.prompt("pick your weapon!","rock - scissors - paper").toLowerCase();
                    ++i;
                    game();
                }
                else if (i=4){
                    ++i;
                    window.confirm("Are you ready to play for the final round?");
                    computerSelection = computerPlay();
                    playerSelection=window.prompt("pick your weapon!","rock - scissors - paper").toLowerCase();
                    playRound();
                    console.log(`Round ${i} - Player: ${player} vs. Computer: ${computer}`);
                        if (player > computer){
                            console.log(`You WIN, with ${player} over ${computer}! Congrats!!`);
                        }
                        else if (player < computer){
                            console.log(`Oh, bummer, you lose for ${computer - player}. Play again!`);
                        }
                        else if (player === computer){
                            console.log("Wow, it's a tie! GAME OVER.");
                        }
                    }

                function playRound(){
                const winnerCase1 = (playerSelection==="rock"&&computerSelection==="scissors");
                const winnerCase2 = (playerSelection==="paper"&&computerSelection==="rock");
                const winnerCase3 = (playerSelection==="scissors"&&computerSelection==="paper");
                const winnerCases = (winnerCase1 || winnerCase2 || winnerCase3);
                
                if (playerSelection===computerSelection){
                    console.log("It's a tie!");
                    player;
                    computer;
                }
                else if (playerSelection !== computerSelection) {
                    if (winnerCases){
                        player++;
                        console.log(`You win, ${playerSelection} beats ${computerSelection}!`);
                    }
                    else if (!winnerCases){
                        computer++;
                        console.log(`You lose, ${computerSelection} beats ${playerSelection}`);
                    }
                }
                else{
                    console.log("Work in progress!");
                }
                return [player, computer];
            }
            return
            }
        </script>
    </head>
</html>